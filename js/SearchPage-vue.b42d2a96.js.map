{"version":3,"file":"js/SearchPage-vue.b42d2a96.js","mappings":"wUAMA,MAAMA,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,isBCFA,MAAMC,GAAQC,EAAAA,EAAAA,MAERC,GAAQC,EAAAA,EAAAA,KAAS,IAAMH,EAAMI,MAAMC,OACnCC,GAAcC,EAAAA,EAAAA,IAAI,IAClBC,GAAYD,EAAAA,EAAAA,IAAI,SAChBE,GAAWF,EAAAA,EAAAA,IAAI,UAEfG,GAAQH,EAAAA,EAAAA,IAAI,IAEZI,EAAS,KACb,MAAMC,EAASF,EAAMG,MAAMD,OAEzBN,EAAYO,MADVD,EAAS,EACS,GAGFV,EAAMW,MAAMC,QAAQC,IACtC,IAAIC,EAAK,KAOT,GANuB,WAAnBP,EAASI,QACXG,EAAKD,EAAKE,QAAQ,GAAGC,KAAKC,MAAM,EAAGP,IAEd,UAAnBH,EAASI,QACXG,EAAKD,EAAKK,MAAMD,MAAM,EAAGP,IAEvBI,EAAGK,gBAAkBX,EAAMG,MAAMQ,cACnC,OAAO,MAKPC,EAAkBC,IACtBd,EAASI,MAAQU,EAAMC,OAAOX,MAC9BH,EAAMG,MAAQ,IAGVY,EAAmBF,IACvBb,EAAMG,MAAQU,EAAMC,OAAOE,YAC3BpB,EAAYO,MAAQ,I,2hCCpCtB,MAAMd,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,8DCLA,MAAM,EAAc,EAEpB","sources":["webpack://otus-project/./src/components/Title.vue","webpack://otus-project/./src/components/SearchBlock.vue","webpack://otus-project/./src/components/SearchBlock.vue?e5d4","webpack://otus-project/./src/views/SearchPage.vue"],"sourcesContent":["import script from \"./Title.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Title.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Title.vue?vue&type=style&index=0&id=28c1d44d&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\otus\\\\otus-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-28c1d44d\"]])\n\nexport default __exports__","<script setup>\r\n\r\nimport { useStore } from 'vuex'\r\nimport {computed, ref } from \"vue\";\r\nimport Title from './Title';\r\n\r\nconst store = useStore()\r\n\r\nconst array = computed(() => store.state.list)\r\nconst searchArray = ref([]);\r\nconst titlePage = ref('Поиск');\r\nconst checkbox = ref('author')\r\n\r\nconst input = ref('');\r\n\r\nconst search = () => {\r\n  const length = input.value.length;\r\n  if (length < 1) {\r\n    searchArray.value = [];\r\n    return\r\n  }\r\n  searchArray.value = array.value.filter((item) => {\r\n    let el = null\r\n    if (checkbox.value === 'author') {\r\n      el = item.authors[0].name.slice(0, length)\r\n    }\r\n    if (checkbox.value === 'title') {\r\n      el = item.title.slice(0, length)\r\n    }\r\n    if (el.toLowerCase() === input.value.toLowerCase()) {\r\n      return true\r\n    }\r\n  });\r\n}\r\n\r\nconst changeCheckbox = (event) => {\r\n  checkbox.value = event.target.value\r\n  input.value = ''\r\n}\r\n\r\nconst addSearchResult = (event) => {\r\n  input.value = event.target.textContent\r\n  searchArray.value = [];\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search {\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100%;\r\n\r\n  &__container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 1250px;\r\n  }\r\n\r\n  &__form {\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  &__input {\r\n    width: 300px;\r\n    height: 40px;\r\n    padding: 0 16px;\r\n    @include text($font, 600, 16px, 20px, $color-black);\r\n    background-color: $color-white;\r\n    border-radius: 3px;\r\n    border: 1px solid $color-black;\r\n    margin-bottom: 16px;\r\n\r\n    &::placeholder {\r\n      color: rgba(0, 0, 0, 0.2);\r\n    }\r\n\r\n    &:focus {\r\n      border-color: $color-blue;\r\n    }\r\n\r\n    &:focus::placeholder {\r\n      color: rgba(0, 0, 0, 0);\r\n    }\r\n  }\r\n\r\n  &__ul {\r\n    position: absolute;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-color: $color-white;\r\n    width: 100%;\r\n    gap: 4px;\r\n    top: 50px;\r\n    z-index: 2;\r\n  }\r\n\r\n  &__li {\r\n    @include text($font, 500, 14px, 16px, $color-black);\r\n    cursor: pointer;\r\n    transition: color 0.15s ease;\r\n\r\n    &:hover {\r\n      color: $color-red;\r\n    }\r\n  }\r\n\r\n  &__box {\r\n    display: grid;\r\n    grid-gap: 8px;\r\n  }\r\n\r\n  &__block {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  &__checkbox {\r\n    display: none;\r\n\r\n    &:checked + .search__label {\r\n      background-color: $color-yellow;\r\n      border-color: $color-yellow;\r\n    }\r\n\r\n    &:checked + .search__label::before {\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  &__label {\r\n    position: relative;\r\n    width: 22px;\r\n    height: 22px;\r\n    border-radius: 2px;\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n    background-color: $color-white;\r\n    border: 1px solid $color-gray;\r\n    margin-right: 8px;\r\n\r\n    &::before {\r\n      position: absolute;\r\n      opacity: 0;\r\n      content: '';\r\n      width: 5px;\r\n      height: 8px;\r\n      border-right: 2px solid $color-black;\r\n      border-bottom: 2px solid $color-black;\r\n      transform: rotate(45deg);\r\n      top: 4px;\r\n      right: 6px;\r\n    }\r\n  }\r\n\r\n  &__span {\r\n    @include text($font, 500, 14px, 16px, $color-gray);\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"search\">\r\n    <div class=\"search__container\">\r\n      <Title :title=\"titlePage\" />\r\n      <form class=\"search__form\">\r\n        <input\r\n            type=\"text\"\r\n            placeholder=\"поиск\"\r\n            maxlength=\"35\"\r\n            class=\"search__input\"\r\n            v-model=\"input\"\r\n            @input=\"search\"\r\n        >\r\n        <ul class=\"search__ul\">\r\n          <span\r\n              v-for=\"(item, index) in searchArray\"\r\n              :key=\"index\"\r\n              class=\"search__li\"\r\n              @click.prevent.stop.self=\"addSearchResult\"\r\n          >\r\n            {{ checkbox === 'author' ? item.authors[0].name : item.title }}\r\n          </span>\r\n        </ul>\r\n        <div class=\"search__box\">\r\n          <div class=\"search__block\">\r\n            <input\r\n                type=\"radio\"\r\n                v-model=\"checkbox\"\r\n                id=\"one\"\r\n                value=\"author\"\r\n                :checked=\"checkbox === 'author'\"\r\n                @change=\"changeCheckbox\"\r\n                class=\"search__checkbox\"\r\n            >\r\n            <label for=\"one\" class=\"search__label\"></label>\r\n            <span class=\"search__span\">По имени автора</span>\r\n          </div>\r\n          <div class=\"search__block\">\r\n            <input\r\n                type=\"radio\"\r\n                v-model=\"checkbox\"\r\n                id=\"two\"\r\n                value=\"title\"\r\n                :checked=\"checkbox === 'title'\"\r\n                @change=\"changeCheckbox\"\r\n                class=\"search__checkbox\"\r\n            >\r\n            <label for=\"two\" class=\"search__label\"></label>\r\n            <span class=\"search__span\">По названию книги</span>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>","import script from \"./SearchBlock.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SearchBlock.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SearchBlock.vue?vue&type=style&index=0&id=6a696919&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\otus\\\\otus-project\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6a696919\"]])\n\nexport default __exports__","import script from \"./SearchPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SearchPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["__exports__","store","useStore","array","computed","state","list","searchArray","ref","titlePage","checkbox","input","search","length","value","filter","item","el","authors","name","slice","title","toLowerCase","changeCheckbox","event","target","addSearchResult","textContent"],"sourceRoot":""}